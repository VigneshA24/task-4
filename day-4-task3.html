<!DOCTYPE html>
<html>
    <head>
        <title>Day4 task3 </title>
    </head>
    <body>
        <h1>Hello</h1>
        <h2>xml http request</h2>
        <h3>Printing all countries names ,<br> region ,<br> sub-region ,<br> populations</h3>
        <script>
            // function handleData(){
            //     let data = JSON.parse(this.responseText);
            //     for (let i=0;i<data.length;i++){
            //         console.log(data[i].name.common);
            //         console.log(data[i].region);
            //         console.log(data[i].subregion);
            //         console.log(data[i].population);
                    
            //     }
            //}
            const req = new XMLHttpRequest();
            //req.addEventListener('load',handleData);
            req.onload = (res)=>{
                let data = JSON.parse(res.srcElement.responseText);
                for (let i=0;i<data.length;i++){
                    console.log(data[i].name.common);
                    console.log(data[i].region);
                    console.log(data[i].subregion);
                    console.log(data[i].population);
                }
            }
            req.open("GET","https://restcountries.com/v3.1/all");
            req.send();
        </script>
    </body>
</html>